# 基于RISC-V32I指令集（不包括浮点数）的单周期
## 项目
- 项目源文件
- 基于Vivado的Tcl自动脚本
- 设计例图
## CPU基本信息
- 独立分离的指令内存（128Byte）与数据内存（64Byte）
## FPGA开发板与对应信息
- NEXYS4
- 显示说明：

1. 开关功能说明

| 开关位 | 功能 | 说明 |
|--------|------|------|
| sw_i[15] | 时钟选择 | 1=自动时钟(clk_div[25])，0=手动时钟(sw_i[0]) |
| sw_i[4:1] | 显示数据选择 | 4位选择信号，控制数码管显示内容 |
| sw_i[1] | RF模式选择 | 寄存器文件的模式控制 |
| sw_i[0] | 手动时钟 | 当sw_i[15]=0时作为CPU时钟输入 |

  2. 数码管显示内容 (根据sw_i[4:1]选择)

| 开关值 | 显示数据 | 描述 |
|--------|----------|------|
| 4'b0000 | ALU_result | ALU运算结果 |
| 4'b0001 | ALU_A | ALU输入A |
| 4'b0010 | ALU_B | ALU输入B |
| 4'b0011 | data1 | 写回数据预选值 |
| 4'b0100 | Imm | 立即数 |
| 4'b0101 | rs1 | 寄存器rs1值 |
| 4'b0110 | rs2 | 寄存器rs2值 |
| 4'b0111 | instr | 当前指令 |
| 4'b1000 | DMout | 数据存储器输出 |
| 4'b1001 | RFdata | 寄存器文件写数据 |
| 4'b1010 | PC | 程序计数器当前值 |
| 4'b1011 | PCnext | 下一条PC值 |
| 4'b1100 | PC+4 | PC+4的值 |
| 4'b1101 | PCtemp | PC临时值(分支/JAL目标) |
| 4'b1110 | jal | JAL信号状态 |
| 4'b1111 | PCsel | PC选择信号状态 |

  3. LED显示内容

| LED位 | 信号 | 描述 |
|-------|------|------|
| led_o[15] | branch | 分支指令信号 |
| led_o[14] | jal | JAL指令信号 |
| led_o[13:12] | ALUop | ALU操作类型(2位) |
| led_o[11] | MemWrite | 存储器写使能 |
| led_o[10] | RegWrite | 寄存器写使能 |
| led_o[9] | SumSrc | JALR指令选择信号 |
| led_o[8] | ALUsrc1 | ALU输入1选择(0=rs1, 1=PC) |
| led_o[7] | ALUsrc2 | ALU输入2选择(0=rs2, 1=立即数) |
| led_o[6] | MemtoReg | 写回数据选择(0=ALU, 1=存储器) |
| led_o[5] | RegDataSrc | 寄存器数据源选择(0=WBdata, 1=PC+4) |
| led_o[4] | branch_taken | 分支发生信号 |
| led_o[3:0] | ALUctrl | ALU控制信号(4位) |

  4. 显示模块特性

- **显示模式**: `disp_mode=1'b0` (图形模式，每个数码管显示8bit)
- **数据宽度**: 64位显示数据
- **更新频率**: 跟随主时钟clk
- **数码管数量**: 8个(通过disp_an_o控制)
